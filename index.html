<html>
  <head>
    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="chart.js"></script>
    <style>
      body {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"
      }
      a {
        text-decoration: none;
      }
      header {
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
      }
      header h1 {
        text-align: center;
      }
      .description {
        max-width: 750px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 30px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>The Shape of Cocina Descriptive Metadata</h1>
    </header>

    <section>
      <div class="description">
	<p>The following <a href="https://datavizcatalogue.com/methods/sunburst_diagram.html">sunburst diagrams</a> attempt to visualize the shape of <a href="https://github.com/sul-dlss/cocina-models">Cocina</a> descriptive metadata for objects in the Stanford Digital Repository. Cocina is expressed using JSON, and each wedge (or node) in the diagram represents a portion of a JSON path used in assertion, and is sized based on how many assertions it is part of.</p>
	<p>The JSON path radiates from the center out, and wedges can be clicked on to zoom in on additional parts of a path. After zooming in, clicking on the central wedge will cause the view to pop back out one-level. The hover text indicates the name of JSON path property (useful when the wedge is tiny) as well as a count of the number of assertions that the path is a part of (essentially a sum of all the leaf nodes it contains).</p>
	<p>The data for the chart below was generated using the <a href="https://github.com/sul-dlss/dor-services-app/blob/main/app/reports/descriptive_shape.rb">descriptive shape report</a> which generated <a href="data-all.csv">this CSV file</a>. </p>
      </div>
      <div id="chart-all"></div>
    </section>

    <section>
      <div class="description">
        <p>The next visualization only includes descriptions for objects that link to the catalog: records which contain one or more <em>catalogLinks</em> in their Cocina <em>identification</em> metadata. Ostensibly these are resource descriptions that were derived from MARC. </p>
	<p>The data for the chart was generated using the <a href="https://github.com/sul-dlss/dor-services-app/blob/main/app/reports/descriptive_shape.rb">descriptive shape report</a> with the <em>catalog: 'only'</em> option which generated <a href="data-catalog.csv">this CSV file</a>. </p>
      </div>
      <div id="chart-catalog"></div>
    </section>

    <section>
      <div class="description">
        <p>This last visualization only includes descriptions for objects that do not link to the catalog: records which contain no <em>catalogLinks</em> in their Cocina <em>identification</em> metadata. The data was generated using the <a href="https://github.com/sul-dlss/dor-services-app/blob/main/app/reports/descriptive_shape.rb">descriptive shape report</a> with the <em>catalog: 'none'</em> option which generated <a href="data-no-catalog.csv">this CSV file</a>. </p>
      </div>
      <div id="chart-no-catalog"></div>
    </section>

  </body>
</html>
